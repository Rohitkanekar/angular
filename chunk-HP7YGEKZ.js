import{Fc as a,O as c,T as s,l as o}from"./chunk-OV4FA6PE.js";var p=class r{constructor(e){this.http=e}localRecipesKey="localRecipes";recipesSubject=new o(this.getLocalRecipes());recipes$=this.recipesSubject.asObservable();getAllRecipes(){return this.http.get("https://dummyjson.com/recipes")}loadFromStorage(){try{return JSON.parse(localStorage.getItem(this.localRecipesKey)||"[]")}catch{return[]}}saveToStorage(e){localStorage.setItem(this.localRecipesKey,JSON.stringify(e)),this.recipesSubject.next(e)}getLocalRecipes(){return this.loadFromStorage()}addPendingRecipe(e){let t=this.loadFromStorage();t.push(e),this.saveToStorage(t)}saveLocalRecipes(e){localStorage.setItem(this.localRecipesKey,JSON.stringify(e)),this.recipesSubject.next(e)}approveRecipe(e){let t=this.loadFromStorage(),i=t.findIndex(l=>l.id===e);i!==-1&&(t[i].isPending=!1,this.saveToStorage(t))}deleteRecipe(e){let t=this.loadFromStorage().filter(i=>i.id!==e);this.saveToStorage(t)}static \u0275fac=function(t){return new(t||r)(s(a))};static \u0275prov=c({token:r,factory:r.\u0275fac,providedIn:"any"})};export{p as a};
